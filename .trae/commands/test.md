# 测试命令

## 命令描述

执行项目的测试套件,包括单元测试、集成测试和端到端测试。

## 使用方法

```
/test [选项]
```

## 参数说明

- `--unit`: 只运行单元测试
- `--integration`: 只运行集成测试
- `--e2e`: 只运行端到端测试
- `--coverage`: 生成测试覆盖率报告
- `--watch`: 监视文件变化并自动运行测试
- `--verbose`: 显示详细的测试输出

## 功能特性

1. **单元测试**
   - 快速执行
   - 隔离依赖
   - Mock 外部服务
   - 生成详细报告

2. **集成测试**
   - 测试模块交互
   - 使用测试数据库
   - 验证 API 契约
   - 模拟真实场景

3. **端到端测试**
   - 模拟用户操作
   - 测试完整流程
   - 使用真实浏览器
   - 验证用户体验

4. **覆盖率分析**
   - 语句覆盖率
   - 分支覆盖率
   - 函数覆盖率
   - 生成可视化报告

## 输出格式

```
# 测试报告

## 测试概览
- 测试类型: ...
- 测试数量: X
- 通过: X
- 失败: X
- 跳过: X
- 执行时间: X 秒

## 覆盖率
- 语句覆盖率: X%
- 分支覆盖率: X%
- 函数覆盖率: X%

## 失败测试
1. [测试名称]
   - 错误信息: ...
   - 堆栈跟踪: ...

## 性能指标
- 平均执行时间: X 毫秒
- 最慢测试: ...
```

## 示例

```
/test
/test --unit
/test --coverage
/test --watch
/test --unit --coverage --verbose
```

## 注意事项

- 确保测试环境已配置
- 测试数据已准备
- 外部服务已 Mock
- 数据库已清理