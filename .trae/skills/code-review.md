# 代码审查技能

## 技能描述

这是一个专业的代码审查技能,能够全面审查代码质量、安全性、性能和可维护性。

## 适用场景

- Pull Request 代码审查
- 代码质量检查
- 安全漏洞识别
- 性能优化建议
- 最佳实践验证

## 审查维度

### 1. 代码质量
- 代码可读性和清晰度
- 命名规范的遵循情况
- 代码复杂度分析
- 重复代码检测

### 2. 安全性
- SQL 注入风险
- XSS 攻击风险
- CSRF 保护
- 敏感信息泄露
- 认证和授权问题

### 3. 性能
- 算法复杂度分析
- 资源使用效率
- 数据库查询优化
- 缓存策略
- 并发处理

### 4. 可维护性
- 代码结构和组织
- 模块化程度
- 依赖关系
- 文档完整性
- 测试覆盖率

### 5. 最佳实践
- 设计模式应用
- SOLID 原则遵循
- DRY 原则
- 错误处理
- 日志记录

## 审查流程

1. **初步扫描**
   - 快速浏览代码结构
   - 识别主要功能模块
   - 检查明显的问题

2. **详细审查**
   - 逐行分析代码逻辑
   - 验证业务逻辑正确性
   - 检查边界情况处理

3. **安全检查**
   - 识别潜在安全漏洞
   - 验证输入验证
   - 检查权限控制

4. **性能分析**
   - 评估算法效率
   - 识别性能瓶颈
   - 提供优化建议

5. **生成报告**
   - 总结发现的问题
   - 按优先级分类
   - 提供具体的修复建议

## 输出格式

### 问题分类
- **严重**: 必须立即修复的问题
- **高**: 应该尽快修复的问题
- **中**: 建议修复的问题
- **低**: 可选的改进建议

### 报告结构
```markdown
# 代码审查报告

## 总体评价
- 代码质量评分: X/10
- 主要优点: ...
- 主要问题: ...

## 严重问题
1. [问题描述]
   - 位置: 文件:行号
   - 风险: ...
   - 建议: ...

## 高优先级问题
...

## 中优先级问题
...

## 低优先级建议
...

## 最佳实践建议
...
```

## 审查标准

### 必须满足
- 代码能够正常运行
- 没有安全漏洞
- 符合编码规范
- 有必要的错误处理

### 应该满足
- 代码清晰易懂
- 有适当的注释
- 有单元测试
- 性能合理

### 可以满足
- 代码优雅简洁
- 有完整的文档
- 有集成测试
- 性能优化

## 常见问题清单

### 安全问题
- [ ] SQL 注入漏洞
- [ ] XSS 攻击风险
- [ ] CSRF 保护缺失
- [ ] 硬编码敏感信息
- [ ] 不安全的随机数生成

### 性能问题
- [ ] N+1 查询问题
- [ ] 不必要的数据库查询
- [ ] 缺少索引
- [ ] 内存泄漏
- [ ] 低效的算法

### 代码质量问题
- [ ] 过长的函数
- [ ] 过深的嵌套
- [ ] 重复代码
- [ ] 魔法数字
- [ ] 不一致的命名

### 可维护性问题
- [ ] 缺少注释
- [ ] 复杂的条件逻辑
- [ ] 过多的参数
- [ ] 紧耦合的代码
- [ ] 缺少测试

## 审查建议

### 给开发者的建议
1. 在提交代码前先进行自我审查
2. 使用静态代码分析工具
3. 编写单元测试
4. 遵循编码规范
5. 保持代码简洁

### 给审查者的建议
1. 保持建设性的态度
2. 提供具体的改进建议
3. 解释问题的原因
4. 考虑上下文和约束
5. 及时响应审查请求